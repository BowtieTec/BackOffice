<form [formGroup] = "stepFiveForm"
      class = "needs-validation animate__animated animate__fadeInLeft"
      id = "form-wrapper"
      method = "post"
      name = "form-wrapper"
      novalidate = "" >
  <div
    class = "container " >
    <div
      class = "row" >
      <div class = "titleCards"
           *ngIf = "ifHaveAction(createAntennaAction)" >
        Agregar Antena
      </div >
      <span *ngIf = "idEditAntenna"
            class = "badge bg-warning text-dark animate__animated animate__flipInX " >Editando</span >
      <div *ngIf = "ifHaveAction(createAntennaAction)" >
        <div class = "row" >
          <div *ngIf = "!this.isCreatingParking"
               class = "row" >
            <div class = "col-md-5 col-sm-12" >
              <div class = "m-3 relative " >
                <label class = "labelInput" >Parqueo</label >
                <select
                  class = "inputClass"
                  (change) = "searchAntennasByParking()"
                  formControlName = "parking" >
                  <option *ngFor = "let parking of this.allParking"
                          value = "{{parking.id}}" >{{parking.name}}</option >
                </select >
              </div >
            </div >
          </div >
          <div class = "row" >
            <div class = "col-md-5 col-sm-12" >
              <div class = "m-3 relative " >
                <label class = "labelInput" >Tipo de acceso</label >
                <select
                  [class.is-invalid] = "controlInvalid('type_access')"
                  class = "inputClass"
                  formControlName = "type_access" >
                  <option *ngIf = "this.stepFiveForm.controls['type_access'].value == ''"
                          selected
                          value = '' >---- Tipo de acceso ----
                  </option >
                  <option *ngFor = "let access of this.accessList"
                          value = "{{access.value}}" >{{access.accessType}}</option >
                </select >
                <small
                  *ngIf = "controlInvalid('type_access')"
                  class = "text-danger animate__animated  animate__rotateIn" >* Este campo es obligatorio</small >
              </div >
            </div >

            <div class = "col-md-5 col-sm-12" >
              <div class = "m-3 relative " >
                <label class = "labelInput" >Nombre de acceso:</label >
                <input [class.is-invalid] = "controlInvalid('name_access')"
                       class = "form-control inputClass"
                       formControlName = "name_access"
                       placeholder = "Nombre de acceso:"
                       type = "text" >
                <small *ngIf = "controlInvalid('name_access')"
                       class = "text-danger animate__animated  animate__rotateIn" >* Este campo es obligatorio</small >
              </div >
            </div >
          </div >
          <div class = "row" >
            <div class = "col-md-5 col-sm-12" >
              <div class = "m-3 relative" >
                <label class = "labelInput" >MAC:</label >
                <input [class.is-invalid] = "controlInvalid('mac_access')"
                       class = "form-control inputClass"
                       formControlName = "mac_access"
                       placeholder = "MAC:"
                       type = "text" >
                <small *ngIf = "controlInvalid('mac_access')"
                       class = "text-danger animate__animated  animate__rotateIn" >* Este campo es obligatorio</small >
              </div >
            </div >
            <div class = "col-md-5 col-sm-12" >
              <div class = "m-3 relative" >
                <label class = "labelInput" >Antena:</label >
                <input [class.is-invalid] = "controlInvalid('antenna_access')"
                       class = "form-control inputClass"
                       formControlName = "antenna_access"

                       placeholder = "Antena:"
                       type = "text" >
                <small *ngIf = "controlInvalid('antenna_access')"
                       class = "text-danger animate__animated  animate__rotateIn" >* Este campo es obligatorio</small >
              </div >
            </div >
          </div >
          <div class = "d-grid gap-2 d-md-flex justify-content-md-start m-3" >
            <ul class = "opcionActivo" >
              <li class = "m-1" >
                <input
                  formControlName = "isPrivate"
                  id = "isPrivate"
                  type = "checkbox" >
                <label for = "isPrivate" >Privado</label ></li >
            </ul >
          </div >
          <div class = "d-grid gap-2 d-md-flex justify-content-md-center m-3" >
            <button (click) = "addAntenna()"
                    class = "btn btn-success animate__animated animate__fadeInDown"
                    type = "button" >Guardar
            </button >
            <button (click) = "idEditAntenna = '' "
                    *ngIf = "idEditAntenna"
                    class = "btn btn-success animate__animated animate__fadeInDown"
                    type = "button" >Cancelar edición
            </button >
          </div >
          <hr >
        </div >
      </div >
      <table *ngIf = "antennas.length > 0"
             aria-label = "Tabla de accesos"
             class = "table" >
        <thead >
        <tr >
          <th scope = "col" >Nombre de acceso</th >
          <th scope = "col" >Tipo de acceso</th >
          <th scope = "col" >MAC</th >
          <th scope = "col" >Antena</th >
          <th scope = "col" >Privado o Público</th >
          <th scope = "col"
              style = "width: 20%" >Acciones
          </th >
        </tr >
        </thead >
        <tbody >
        <tr class = "animate__animated animate__fadeIn"
            *ngFor = "let antenna of antennas; index as i" >
          <th id = "{{antenna.name + i}}" >{{antenna.name}}</th >
          <th id = "{{antenna.type + i}}" >{{getAccessName(antenna.type).accessType}}</th >
          <td >{{antenna.mac}}</td >
          <td >{{antenna.antena}}</td >
          <td >{{antenna.isPrivate ? 'Privado' : 'Público'}}</td >
          <td >
            <button (click) = " editAntenna(antenna) "
                    *ngIf = "ifHaveAction(editAntennaAction)"
                    class = "buttonRowEdit"
                    title = "Editar" ><em class = "fas fa-edit" ></em >
            </button >
            <button
              (click) = "deleteAntenna(antenna)"
              *ngIf = "ifHaveAction(deleteAntennaAction)"
              class = "buttonRowDelete m-1" ><em class = "fas fa-trash" ></em >
            </button >
            <button
              (click) = "downloadQR(antenna)"
              *ngIf = "ifHaveAction(downloadQRAntennaAction)"
              class = "buttonRowQR m-1" ><em class = "fas fa-qrcode" ></em >
            </button >

          </td >
        </tr >
        </tbody >
      </table >
    </div >
    <div *ngIf = "this.isCreatingParking"
         class = "text-center"
         id = "q-box__buttons" >
      <button (click) = "emmitStep(-1)"
              class = "btn btn-primary m-2 "
              id = "prev-btn"
              type = "button" >Anterior
      </button >
      <button (click) = "emmitStep(1)"
              class = "btn btn-primary m-2 "
              id = "next-btn"
              type = "button" >Siguiente
      </button >
    </div >
  </div >
</form >
