<form action = ""
      [formGroup] = "newRoleForm" >
  <div class = "panels animate__animated animate__fadeInLeft" >
    <div class = "titleCards" >
      <span ><i class = "fas fa-dragon" ></i ></span > Roles y permisos
    </div >
    <div class = "row" >
      <div class = "col-xl-6 col-lg-12 col-xs-12" >
        <div class = "mb-4 relative" >
          <label class = "labelInput" >Roles</label >
          <select [class.is-invalid] = "controlInvalid('role')"
                  class = "inputClass"
                  (change) = "changeRole()"
                  formControlName = "role" >
            <option value = "" >TIPO DE USUARIO</option >
            <option *ngFor = "let role of Roles"
                    value = "{{role.id}}" >{{role.name}}</option >
          </select >
          <small *ngIf = "controlInvalid('role')"
                 class = "text-danger" >* Este campo es obligatorio</small >
        </div >
      </div >
      <div class = "col-xl-6 col-lg-12 col-xs-12" >
        <div class = "mb-4 relative" >
          <label class = "labelInput" >Permisos</label >
          <select [class.is-invalid] = "controlInvalid('permission')"
                  class = "inputClass"
                  formControlName = "permission" >
            <option value = "" > Permisos</option >
            <option *ngFor = "let permission of permissions"
                    value = "{{permission.id}}" >{{permission.description}}</option >
          </select >
          <small *ngIf = "controlInvalid('permission')"
                 class = "text-danger" >* Este campo es obligatorio</small >
        </div >
      </div >
    </div >
    <div class = "row" >
      <div class = "accordion col-sm-4"
           id = "accordionPanelsStayOpenExample" >
        <div *ngFor = "let module of modules; index as i"
             class = "accordion-item " >
          <h2 class = "accordion-header  "
              [attr.id] = "'panelsStayOpen-heading-'+i" >
            <button class = "accordion-button collapsed"
                    type = "button"
                    data-bs-toggle = "collapse"
                    [attr.data-bs-target] = "'#panelsStayOpen-collapse-'+i"
                    aria-expanded = "true"
                    [attr.aria-controls] = "'panelsStayOpen-collapse-'+i" >
              {{module | titlecase}}
            </button >
          </h2 >
          <div [attr.id] = "'panelsStayOpen-collapse-'+i"
               class = "accordion-collapse collapse"
               [attr.aria-labelledby] = "'panelsStayOpen-heading-'+i" >
            <div class = "accordion-body" >
              <!-- Start Body -->
              <div class = "btn-group btn-group-vertical"
                   role = "group"
                   aria-label = "Basic checkbox toggle button group" >
                <div *ngFor = "let perm of getPermissionsForModules(module); index as i" >
                  <input type = "checkbox"
                         class = "btn-check"
                         value = "{{perm.id}}"
                         (change) = "onChangeCheckBox(perm,  $event)"
                         [attr.id] = "module+'-'+i"
                         autocomplete = "off" >
                  <label class = "btn btn-outline-success"
                         [attr.for] = "module+'-'+i" ><i class = "fas fa-check" ></i >  {{ perm.description }}
                  </label >
                </div >
              </div >
              <!-- End Body -->
            </div >
          </div >
        </div >
      </div >
      <div class = "col-sm-4" >
        <button class = "btn btn-outline-dark" >Guardar</button >
      </div >
    </div >
  </div >
</form >
