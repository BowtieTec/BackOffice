<app-panel-sub-module icon = "fas fa-list"
                      title = "Lista Negra">
  <app-input-container
    (change) = 'this.getReport()'
    [formGroup] = 'reportForm'
    [value] = "now | date: 'yyyy-MM-dd'"
    controlName = 'startDate'
    maxL = "{{now | date:'yyyy-MM-dd'}}"
    name = 'Inicio de Búsqueda'
    type = 'Date'
  ></app-input-container>
  <app-input-container
    (change) = 'this.getReport()'
    [formGroup] = 'reportForm'
    [value] = "now | date: 'yyyy-MM-dd'"
    controlName = 'endDate'
    maxL = "{{now | date:'yyyy-MM-dd'}}"
    name = 'Fin de Búsqueda'
    type = 'Date'
  ></app-input-container>
  <dx-data-grid [columnHidingEnabled] = "false"
                [dataSource] = "dataSource"
                [showBorders] = "true"
                id = "gridContainer">
    <dxi-column
      caption = "Teléfono"
      dataField = "phone_key"
      width = "125"
    ></dxi-column>
    <dxi-column
      caption = "Entrada"
      dataField = "entry_date"
      dataType = "text"
    ></dxi-column>
    <dxi-column
      caption = "Salida"
      dataField = "exit_date"
      dataType = "text"
    ></dxi-column>
    <dxi-column
      caption = "Tiempo estacionado"
      dataField = "timeIn"
      dataType = "text"
    ></dxi-column>
    <dxi-column
      caption = "Total "
      dataField = "total"
      dataType = "number"
      format = "currency"
      format = "Q ,###,###,##0.00"
    ></dxi-column>
    <dxi-column
      [allowSorting] = 'true'
      caption = "Estado Pago"
      dataField = "typePayment"
      type = "text"
    ></dxi-column>
<!--    <dxi-column-->
<!--      [allowSorting] = 'true'-->
<!--      caption = "No. Factura"-->
<!--      dataField = "invoice"-->
<!--      type = "text"-->
<!--    ></dxi-column>-->
    <dxo-header-filter [visible] = "true"></dxo-header-filter>
    <dxo-search-panel [visible] = "true"
                      placeholder = "Buscar..."></dxo-search-panel>
    <dxo-toolbar>
      <dxi-item location = "after">
        <dx-button
          (onClick) = "onExporting($event)"
          icon = "xlsxfile"
          text = "Exportar a Excel"
        ></dx-button>
      </dxi-item>
      <dxi-item name = "searchPanel"></dxi-item>
    </dxo-toolbar>
    <dxo-export [enabled] = "true"></dxo-export>
  </dx-data-grid>
</app-panel-sub-module>
